{"version":3,"sources":["lazyload.es6.js"],"names":[],"mappings":"AAAA,MAAM,QAAN,CAAe;AACb,gBAAe;AACb,SAAK,MAAL,GAAc,SAAS,gBAAT,CAA0B,qBAA1B,CAAd,CADa;AAEb,SAAK,kBAAL,GAFa;AAGb,SAAK,MAAL,GAAc,IAAd;;;AAHa,QAMb,CAAK,aAAL,GANa;GAAf;;AASA,uBAAsB;AACpB,WAAO,gBAAP,CAAwB,QAAxB,EAAkC,MAAM;AACtC,UAAK,KAAK,MAAL,EAAc;AACjB,qBAAa,KAAK,MAAL,CAAb,CADiB;OAAnB;AAGA,WAAK,MAAL,GAAc,WAAW,MAAM;AAC7B,8BAAsB,MAAM;AAC1B,eAAK,aAAL,GAD0B;SAAN,CAAtB,CAD6B;OAAN,EAItB,GAJW,CAAd,CAJsC;KAAN,CAAlC,CADoB;GAAtB;;AAaA,kBAAiB;AACf,UAAM,UAAU,OAAO,WAAP,CADD;;AAGf,SAAK,IAAI,IAAI,KAAK,MAAL,CAAY,MAAZ,GAAqB,CAArB,EAAwB,KAAK,CAAL,EAAQ,GAA7C,EAAkD;AAChD,UAAK,KAAK,MAAL,CAAY,CAAZ,EAAe,qBAAf,GAAuC,GAAvC,GAA6C,OAA7C,EAAuD;AAC1D,aAAK,MAAL,CAAY,CAAZ,EAAe,GAAf,GAAqB,KAAK,MAAL,CAAY,CAAZ,EAAe,OAAf,CAAuB,GAAvB,CADqC;OAA5D;KADF;GAHF;CAvBF;;AAkCA,OAAO,gBAAP,CAAwB,MAAxB,EAAgC,MAAM,IAAI,QAAJ,EAAN,CAAhC","file":"lazyload.js","sourcesContent":["class LazyLoad {\n  constructor () {\n    this.images = document.querySelectorAll('[class=\"lazy-load\"]')\n    this._addEventListeners()\n    this.timmer = null\n\n    // trigger a \"lazyload tick\" to show images already in the viewport\n    this._testLazyLoad()\n  }\n\n  _addEventListeners () {\n    window.addEventListener('scroll', () => {\n      if ( this.timmer ) {\n        clearTimeout(this.timmer)\n      }\n      this.timmer = setTimeout(() => {\n        requestAnimationFrame(() => {\n          this._testLazyLoad()\n        })\n      }, 100)\n    });\n  }\n\n  _testLazyLoad () {\n    const wHeight = window.innerHeight;\n\n    for (let i = this.images.length - 1; i >= 0; i--) {\n      if ( this.images[i].getBoundingClientRect().top < wHeight ) {\n        this.images[i].src = this.images[i].dataset.src;\n      }\n    }\n  }\n}\n\nwindow.addEventListener('load', () => new LazyLoad());\n"]}